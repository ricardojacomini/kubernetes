# playbooks/site.yml
---

# 🛠️ Pre-Flight Checks
- name: "🛠️ Pre-Flight Checks"
  hosts: reservations
  become: true
  gather_facts: true
  vars_files:
    - ../group_vars/main.yml
    - "../group_vars/{{ (ansible_distribution | lower).replace(' ', '_') }}.yml"
  vars:
    container_runtime: docker
  tasks:
      - name: "📦 Include Container Pre-Flight Checks"
        include_role:
          name: container
          tasks_from: main.yml
        tags: [always, preflight]

      - name: "🔍 Include Kubernetes Pre-Flight Checks"
        include_role:
          name: kubernetes
          tasks_from: preflight.yml
        tags: [kubernetes, preflight]

